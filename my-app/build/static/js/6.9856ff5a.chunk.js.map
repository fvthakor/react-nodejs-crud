{"version":3,"sources":["services/http-common.js","services/book.service.js","components/books/BookForm.js","components/books/EditBook.js"],"names":["axios","create","baseURL","headers","BookDataService","http","get","data","post","id","delete","put","BookForm","props","useParams","useState","title","book","category","quantity","setBook","errorMsg","setErrorMsg","handleInputChange","event","target","name","value","prevState","useEffect","undefined","bookService","then","response","console","log","catch","e","className","onSubmit","preventDefault","values","every","field","trim","handleOnSubmit","class","onChange","type","EditBook","history","to","update","push"],"mappings":"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","file":"static/js/6.9856ff5a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n    baseURL: \"http://localhost:3080/api\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    }\r\n});","import http from \"./http-common\";\r\nclass BookDataService {\r\n    getAll() {\r\n      return http.get(\"/books\");\r\n    }\r\n\r\n    save(data) {\r\n        return http.post(\"/book\", data);\r\n    }\r\n\r\n    delete(id) {\r\n        return http.delete(\"/book/\"+id);\r\n    }\r\n    get(id) {\r\n        return http.get(\"/book/\"+id);\r\n    }\r\n    update(id, data) {\r\n        return http.put(\"/book/\"+id, data);\r\n    }\r\n\r\n    \r\n}\r\nexport default new BookDataService();\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport bookService from '../../services/book.service';\r\n\r\nconst BookForm = (props) => {\r\n    const { id } = useParams();\r\n    const [book, setBook] = useState({\r\n        title: props.book ? props.book.title : '',\r\n        category: props.book ? props.book.category : '',\r\n        quantity: props.book ? props.book.quantity : '',\r\n    });\r\n    const { title, category , quantity } = book;\r\n    const [errorMsg, setErrorMsg] = useState('');\r\n\r\n    const handleOnSubmit = (event) => {\r\n        event.preventDefault();\r\n        const values = [title, category, quantity];\r\n        let errorMsg = '';\r\n        console.log(values)\r\n        const allFieldsFilled = values.every((field) => {\r\n          const value = `${field}`.trim();\r\n          return value !== '' && value !== '0';\r\n        });\r\n    \r\n        if (allFieldsFilled) {\r\n          const book = {\r\n            title,\r\n            category,\r\n            quantity\r\n          };\r\n          props.handleOnSubmit(book);\r\n        } else {\r\n          errorMsg = 'Please fill out all the fields.';\r\n        }\r\n        setErrorMsg(errorMsg);\r\n      };\r\n    \r\n      const handleInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        switch (name) {\r\n          default:\r\n            setBook((prevState) => ({\r\n              ...prevState,\r\n              [name]: value\r\n            }));\r\n        }\r\n      };\r\n\r\n      const getBook = () => {\r\n          if(id !== undefined){\r\n            bookService.get(id)\r\n            .then(response => {\r\n                console.log(response)\r\n                setBook(response.data.data);\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n          }\r\n        \r\n    }\r\n    useEffect(() => {\r\n        getBook();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    return (      \r\n        <div>\r\n            {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n            <form onSubmit={handleOnSubmit}>\r\n                <div class=\"form-group\">\r\n                    <label>Title</label>\r\n                    <input class=\"form-control\" name=\"title\" value={title} onChange={handleInputChange} />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>Category</label>\r\n                    <input class=\"form-control\" name=\"category\" value={category} onChange={handleInputChange} />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>Quantity</label>\r\n                    <input class=\"form-control\" name=\"quantity\" value={quantity} onChange={handleInputChange} />\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-success\">Save</button>\r\n            </form>\r\n        </div>\r\n    );\r\n  }\r\n  export default BookForm;\r\n  ","import { useParams, NavLink } from 'react-router-dom';\r\nimport BookForm from './BookForm'\r\nimport BookDataService from \"../../services/book.service\";\r\nconst EditBook = ({ history }) => {\r\n    const { id } = useParams();\r\n\r\n    const handleOnSubmit = (book) => {\r\n        BookDataService.update(id, book)\r\n        .then(response => {\r\n            history.push('/books')\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    };\r\n    return (      \r\n        <div class=\"container-fluid\">\r\n            <div class=\"d-sm-flex align-items-center justify-content-between mb-4\">\r\n                <h1 class=\"h3 mb-0 text-gray-800\">Edit Book</h1>\r\n            </div>\r\n    \r\n            <div class=\"row\">\r\n                <div class=\"col-xl-12 col-lg-12\">\r\n                    <div class=\"card shadow mb-4\">\r\n                        <div\r\n                        class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                            <h6 class=\"m-0 font-weight-bold text-primary\">Edit Book</h6>\r\n                            <NavLink to=\"/books\" className=\"btn btn-danger btn-sm\">\r\n                                <i class=\"fas fa-fw fa-arrow-left\"></i><span>Back</span>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <BookForm book={id} handleOnSubmit={handleOnSubmit}/>             \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n  \r\n        </div>\r\n    );\r\n  }\r\n  export default EditBook;\r\n  "],"sourceRoot":""}